<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="The purpose of this package is to estimate the potential of urban agriculture to contribute to addressing several urban challenges at the city-scale. Within this aim, we selected 8 indicators directly related to one or several urban challenges. Also, a function is provided to compute new scenarios of urban agriculture. Methods are described by Pueyo-Ros, Comas &amp; Corominas (2023) &lt;doi:10.12688/openreseurope.16054.1&gt;.">
<title>Modeling Urban Agriculture at City Scale • ediblecity</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Modeling Urban Agriculture at City Scale">
<meta property="og:description" content="The purpose of this package is to estimate the potential of urban agriculture to contribute to addressing several urban challenges at the city-scale. Within this aim, we selected 8 indicators directly related to one or several urban challenges. Also, a function is provided to compute new scenarios of urban agriculture. Methods are described by Pueyo-Ros, Comas &amp; Corominas (2023) &lt;doi:10.12688/openreseurope.16054.1&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">ediblecity</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/ediblecity.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/icra/ediblecity/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="ediblecity">ediblecity<a class="anchor" aria-label="anchor" href="#ediblecity"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of ediblecity is to is to estimate the potential of UA to contribute to addressing several urban challenges at the city-scale. Within this aim, we followed the urban challenges defined by the Eklipse project that are followed for nearly all of the European projects focused on Nature-based Solutions. We selected 8 indicators directly related to one or several urban challenges.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of ediblecity from <a href="https://r-universe.dev" class="external-link">r-universe</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ediblecity"</span>, repos <span class="op">=</span> <span class="st">"jospueyo.r-universe.dev"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="indicators-estimated">Indicators estimated<a class="anchor" aria-label="anchor" href="#indicators-estimated"></a>
</h2>
<p>The package provides eight indicators that estimate different benefits of urban agriculture:</p>
<ul>
<li>
<code><a href="reference/food_production.html">food_production()</a></code>: Amount of food produced in the city.</li>
<li>
<code><a href="reference/green_capita.html">green_capita()</a></code>: Green per capita can be computed as raw or as the difference among neighbourhoods.</li>
<li>
<code><a href="reference/green_distance.html">green_distance()</a></code>: Distance to closest public green area larger than certain surface. It computes also the proportion of homes that are further than a specific threshold.</li>
<li>
<code><a href="reference/UHI.html">UHI()</a></code>: Urban heat island as a rasters (<code>stars</code> object) or as numeric values.</li>
<li>
<code><a href="reference/edible_jobs.html">edible_jobs()</a></code>: Number of jobs created by commercial urban agriculture.</li>
<li>
<code><a href="reference/edible_volunteers.html">edible_volunteers()</a></code>: Number of volunteers involved in community urban agriculture.</li>
<li>
<code><a href="reference/no2_seq.html">no2_seq()</a></code>: Amount of NO<sub>2</sub> sequestered by urban green (in gr/s).</li>
<li>
<code><a href="reference/runoff_prev.html">runoff_prev()</a></code>: Runoff in the city after a specific rain event. It also computes the amount of rainwater harvested by urban agriculture initiatives.</li>
</ul>
</div>
<div class="section level2">
<h2 id="set-a-scenario">Set a scenario<a class="anchor" aria-label="anchor" href="#set-a-scenario"></a>
</h2>
<p>Although <code>ediblecity</code> can also estimate indicators directly from an <code>sf</code> object, the function <code>set_scenario</code> provides a basic tool to create an scenario combining different proportions of elements of urban agriculture. Some warnings are triggered when the function can’t satisfy the parameters passed by the user.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/icra/ediblecity" class="external-link">ediblecity</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">scenario</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/set_scenario.html">set_scenario</a></span><span class="op">(</span><span class="va">city_example</span>,</span>
<span>                         pGardens <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>                         pVacant <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>                         pRooftop <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>                         pCommercial <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="co">#&gt; Only 328 rooftops out of 362.4 assumed satisfy the 'min_area_rooftop'</span></span></code></pre></div>
<p>All attributes of urban agriculture elements are included in <code>city_land_uses</code> dataframe. This can be used as default. Otherwise, a customized dataframe can be provided to compute each indicator.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">city_land_uses</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="13%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="7%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="4%">
<col width="4%">
<col width="2%">
<col width="2%">
<col width="9%">
<col width="9%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="left">land_uses</th>
<th align="left">edible</th>
<th align="left">public</th>
<th align="right">pGreen</th>
<th align="left">jobs</th>
<th align="left">volunteers</th>
<th align="left">location</th>
<th align="right">no2_seq1</th>
<th align="right">no2_seq2</th>
<th align="right">food1</th>
<th align="right">food2</th>
<th align="right">CN1</th>
<th align="right">CN2</th>
<th align="right">water_storage1</th>
<th align="right">water_storage2</th>
<th align="left">water_storage</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Edible private garden</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="right">0.6</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">garden</td>
<td align="right">0.07</td>
<td align="right">0.09</td>
<td align="right">0.2</td>
<td align="right">6.6</td>
<td align="right">85</td>
<td align="right">88</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Community garden</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="right">1.0</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">vacant</td>
<td align="right">0.07</td>
<td align="right">0.09</td>
<td align="right">0.2</td>
<td align="right">2.2</td>
<td align="right">85</td>
<td align="right">88</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Commercial garden</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="right">1.0</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">vacant</td>
<td align="right">0.07</td>
<td align="right">0.09</td>
<td align="right">4.0</td>
<td align="right">6.6</td>
<td align="right">85</td>
<td align="right">85</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Rooftop garden</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="right">1.0</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">rooftop</td>
<td align="right">0.07</td>
<td align="right">0.07</td>
<td align="right">0.2</td>
<td align="right">2.2</td>
<td align="right">67</td>
<td align="right">88</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Hydroponic rooftop</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="right">1.0</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">rooftop</td>
<td align="right">0.07</td>
<td align="right">0.07</td>
<td align="right">9.0</td>
<td align="right">19.0</td>
<td align="right">98</td>
<td align="right">98</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Arable land</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="right">0.6</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">no</td>
<td align="right">0.00</td>
<td align="right">0.07</td>
<td align="right">4.0</td>
<td align="right">6.6</td>
<td align="right">85</td>
<td align="right">88</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Normal garden</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="right">0.6</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">no</td>
<td align="right">0.07</td>
<td align="right">0.07</td>
<td align="right">1.0</td>
<td align="right">1.0</td>
<td align="right">74</td>
<td align="right">86</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Permanent crops</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="right">0.6</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">no</td>
<td align="right">0.09</td>
<td align="right">0.09</td>
<td align="right">4.0</td>
<td align="right">6.6</td>
<td align="right">65</td>
<td align="right">77</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Vacant</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="right">1.0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">no</td>
<td align="right">0.07</td>
<td align="right">0.09</td>
<td align="right">1.0</td>
<td align="right">1.0</td>
<td align="right">74</td>
<td align="right">87</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Grass</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="right">1.0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">no</td>
<td align="right">0.07</td>
<td align="right">0.07</td>
<td align="right">1.0</td>
<td align="right">1.0</td>
<td align="right">74</td>
<td align="right">86</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Mulcher</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="right">1.0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">no</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">1.0</td>
<td align="right">1.0</td>
<td align="right">88</td>
<td align="right">88</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Raised bed</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="right">1.0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">no</td>
<td align="right">0.07</td>
<td align="right">0.07</td>
<td align="right">1.0</td>
<td align="right">1.0</td>
<td align="right">67</td>
<td align="right">88</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Trees</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="right">1.0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">no</td>
<td align="right">0.11</td>
<td align="right">0.11</td>
<td align="right">1.0</td>
<td align="right">1.0</td>
<td align="right">70</td>
<td align="right">77</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Vegetated pergola</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="right">1.0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">no</td>
<td align="right">0.07</td>
<td align="right">0.07</td>
<td align="right">1.0</td>
<td align="right">1.0</td>
<td align="right">98</td>
<td align="right">98</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">FALSE</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="contributors">Contributors<a class="anchor" aria-label="anchor" href="#contributors"></a>
</h2>
<p>Contributions are welcome! Some of the existing indicators can be improved as well as new indicators can be created. Likewise, the creation of new scenarios can include new elements of urban agriculture or provide further customization.</p>
<p>Scientific collaborations are also welcome! Check my research profile at <a href="https://scholar.google.com/citations?user=zP9DBLMAAAAJ&amp;hl=ca" class="external-link">Google scholar</a>.</p>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p align="center">
</p>
<p><img src="reference/figures/README-edicitnet_logo.jpg" style="width:150px"></p>

<p><img src="reference/figures/README-EC_logo.png" style="width:40px"> This research was funded by Edicitnet project (grant agreement nº 776665)</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=ediblecity" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/icra/ediblecity/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/icra/ediblecity/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ediblecity</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Josep Pueyo-Ros <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-1236-5651" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>ICRA - Catalan Institute for Water Research <br><small class="roles"> Funder </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://zenodo.org/badge/latestdoi/404743169" class="external-link"><img src="https://zenodo.org/badge/404743169.svg" alt="DOI"></a></li>
<li><a href="https://github.com/icra/edibleCity/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/icra/edibleCity/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://CRAN.R-project.org/package=ediblecity" class="external-link"><img src="https://www.r-pkg.org/badges/version/ediblecity" alt="CRAN status"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Josep Pueyo-Ros, ICRA - Catalan Institute for Water Research.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>

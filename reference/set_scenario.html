<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="You can adjust different parameters to define different city scenarios.
The object must contain a field 'land_use' which describes the function or type of each feature."><title>Set the scenario for your edible city — set_scenario • ediblecity</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Set the scenario for your edible city — set_scenario"><meta property="og:description" content="You can adjust different parameters to define different city scenarios.
The object must contain a field 'land_use' which describes the function or type of each feature."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ediblecity</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/ediblecity.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/icra/ediblecity/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Set the scenario for your edible city</h1>
      <small class="dont-index">Source: <a href="https://github.com/icra/ediblecity/blob/HEAD/R/set_scenario.R" class="external-link"><code>R/set_scenario.R</code></a></small>
      <div class="d-none name"><code>set_scenario.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>You can adjust different parameters to define different city scenarios.
The object must contain a field 'land_use' which describes the function or type of each feature.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_scenario</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  pGardens <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  pVacant <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  pRooftop <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  edible_area_garden <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.02</span>, <span class="fl">0.3</span><span class="op">)</span>,</span>
<span>  edible_area_vacant <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.52</span>, <span class="fl">0.75</span><span class="op">)</span>,</span>
<span>  edible_area_rooftop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">0.62</span><span class="op">)</span>,</span>
<span>  min_area_garden <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  min_area_vacant <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_area_rooftop <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  private_gardens_from <span class="op">=</span> <span class="st">"Normal garden"</span>,</span>
<span>  vacant_from <span class="op">=</span> <span class="st">"Vacant"</span>,</span>
<span>  rooftop_from <span class="op">=</span> <span class="st">"Rooftop"</span>,</span>
<span>  pCommercial <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  area_field <span class="op">=</span> <span class="st">"flat_area"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>An 'sf' object with the urban model of your city and a 'land_use' field with categories of urban features.</p></dd>


<dt>pGardens</dt>
<dd><p>The proportion of private gardens (land_use == 'Gardens')
that will become edible gardens [0-1].</p></dd>


<dt>pVacant</dt>
<dd><p>The proportion of vacant plot (land_use == 'Vacant') with 'area &gt;= min_area_vacant'
that will become edible gardens [0-1].</p></dd>


<dt>pRooftop</dt>
<dd><p>The proportion of rooftops (land_use == 'Flat rooftop') with 'area &gt;= min_area_rooftop'
that will become edible rooftops [0-1].</p></dd>


<dt>edible_area_garden</dt>
<dd><p>The proportion in a range of surface in a garden that is occupied by edible plants [0-1].</p></dd>


<dt>edible_area_vacant</dt>
<dd><p>The proportion in a range of surface in a vacant plot that is occupied by edible plants [0-1].</p></dd>


<dt>edible_area_rooftop</dt>
<dd><p>The proportion in a range of surface in a rooftop that is occupied by edible plants [0-1].</p></dd>


<dt>min_area_garden</dt>
<dd><p>The minimum area that a garden must have to become an edible garden.</p></dd>


<dt>min_area_vacant</dt>
<dd><p>The minimum area that a vacant must have to become an community or commercial garden.</p></dd>


<dt>min_area_rooftop</dt>
<dd><p>The minimum area that a flat rooftop must have to become an edible rooftop.</p></dd>


<dt>private_gardens_from</dt>
<dd><p>The categories in 'land_uses' potentially converted to edible private gardens</p></dd>


<dt>vacant_from</dt>
<dd><p>The categories in 'land_uses' potentially converted to community or commercial gardens</p></dd>


<dt>rooftop_from</dt>
<dd><p>The categories in 'land_uses' potentially converted to edible rooftop
(community raised beds or commercial hydroponic)</p></dd>


<dt>pCommercial</dt>
<dd><p>The proportion of plots and rooftop that will be commercial. The rest will be community gardens
In rooftops it is equivalent to raised beds and hydroponic system respectively.</p></dd>


<dt>area_field</dt>
<dd><p>The field to be used as the area of each feature. If NULL, the area is calculated with
sf::st_area()</p></dd>


<dt>quiet</dt>
<dd><p>If 'TRUE', warnings about proportions not satisfied are not triggered.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An 'sf' object as 'x' with the respective proportion of gardens ('Edible private garden'),
vacant plots ('Community plot garden', 'Commercial plot garden') and rooftop gardens ('Community rooftop garden',
'Commercial hydroponic rooftop')
labeled as edible gardens.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>When pGardens, pVacant or pRooftop is lower than 1, the gardens are selected randomly among
gardens with an area larger than 'min_area_*'.
However, when pCommercial &gt; 0, commercial gardens and hydroponic rooftops are
settled in the larger features, assuming that commercial initiatives have the power to acquire
the best spots.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Josep Pueyo-Ros</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Set scenario with 50% of streets converted to community gardens</span></span></span>
<span class="r-in"><span><span class="co"># randomly occupying between 40 and 60% of street's area.</span></span></span>
<span class="r-in"><span><span class="va">scenario</span> <span class="op">&lt;-</span> <span class="fu">set_scenario</span><span class="op">(</span><span class="va">city_example</span>, pGardens <span class="op">=</span> <span class="fl">0</span>, pVacant <span class="op">=</span> <span class="fl">0.5</span>, pRooftop <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>                         edible_area_vacant <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.4</span>, <span class="fl">0.6</span><span class="op">)</span>, vacant_from <span class="op">=</span> <span class="st">"Streets"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">scenario</span><span class="op">$</span><span class="va">land_use</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Community garden            Grass    Normal garden       Paved area </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               75               23              453               92 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          Railway          Rooftop             Sand    School garden </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                1              604                3                3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Sports field          Streets            Trees      Vacant plot </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                1               75               12                2 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Set scenario with 60% of rooftops converted to gardens, and 30% of those with commercial purpose.</span></span></span>
<span class="r-in"><span><span class="va">scenario</span> <span class="op">&lt;-</span> <span class="fu">set_scenario</span><span class="op">(</span><span class="va">city_example</span>, pGardens <span class="op">=</span> <span class="fl">0</span>, pVacant <span class="op">=</span> <span class="fl">0</span>, pRooftop <span class="op">=</span> <span class="fl">0.6</span>, pCommercial <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Only 328 rooftops out of 362.4 assumed satisfy the 'min_area_rooftop'</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">scenario</span><span class="op">$</span><span class="va">land_use</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Community garden              Grass Hydroponic rooftop      Normal garden </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  1                 23                 99                453 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Paved area            Railway            Rooftop     Rooftop garden </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 92                  1                276                229 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Sand      School garden       Sports field            Streets </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  3                  3                  1                149 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Trees        Vacant plot </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 12                  2 </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Josep Pueyo-Ros, ICRA - Catalan Institute for Water Research.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

